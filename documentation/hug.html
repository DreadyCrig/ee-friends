<!DOCTYPE html>
<!--[if lt IE 7]>		<html class="no-js ie6"> <![endif]-->
<!--[if IE 7]>			<html class="no-js ie7"> <![endif]-->
<!--[if IE 8]>			<html class="no-js ie8"> <![endif]-->
<!--[if IE 8]>			<html class="no-js ie9"> <![endif]-->
<!--[if gt IE 9]><!-->	<html class="no-js"> <!--<![endif]-->
	<head lang="en">
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<title>Hug | Friends | Solspace Addon Documentation</title>
		<meta name="description" content="" />
		<meta name="copyright" content="(c) 2010 Copyright content: Copyright design: Solspace, Inc."/>
		<meta name="viewport" content="width=device-width" />
		<link rel="stylesheet" href="assets/css/normalize.css" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<link rel="stylesheet" type="text/css" href="assets/fancybox/jquery.fancybox-1.3.4.css" />
		<link href="assets/syntaxhighlighter/styles/shCore.css" rel="stylesheet" type="text/css" />
		<link href="assets/syntaxhighlighter/styles/shThemeDefault.css" rel="stylesheet" type="text/css" />
		<script src="assets/js/modernizr.min.js"></script>
	</head>
	<body>
		<!--[if lt IE 8]>
			<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
		<![endif]-->

		<header>
			<div class="header-inner">
				<div class="logo">
					<img src="assets/images/logo.png" />
				</div>

				<div class="bread_crumbs">
					<ul class="crumbs">
						<li class="first"><a href="index.html">Friends</a></li>
						<li>Hug</li>
					</ul>
				</div>
			</div>
		</header>

		<div class="content-wrapper">
			<nav class="toc">
				<ul>
<li><a href="https://solspace.com/expressionengine/friends">More Info | Purchase</a></li>
<li><a href="change_log.html">Change Log</a></li>
<li><a href="install_update.html">Install / Update</a></li>
<li><a href="control_panel.html">Control Panel</a></li>
<li><a href="extension_hooks.html">Extension Hooks</a></li>
<li class="template_tags"><h3>Template Tags</h3></li>
<li><p>Basic:</p>

<ul>
<li><a href="add.html">Add</a></li>
<li><a href="form.html">Form</a></li>
<li class="current"><a href="hug.html">Hug</a></li>
<li><a href="hugs.html">Hugs</a></li>
<li><a href="invites.html">Invites</a></li>
<li><a href="members.html">Members</a></li>
<li><a href="mine.html">Mine</a></li>
<li><a href="mutual_friends.html">Mutual Friends</a></li>
</ul></li>
<li><p>Profile Wall:</p>

<ul>
<li><a href="profile_wall.html">Profile Wall</a></li>
<li><a href="profile_wall_comment_delete.html">Profile Wall Comment Delete</a></li>
<li><a href="profile_wall_form.html">Profile Wall Form</a></li>
</ul></li>
<li><p>Status Updates:</p>

<ul>
<li><a href="status.html">Status</a></li>
<li><a href="status_delete.html">Status Delete</a></li>
<li><a href="status_form.html">Status Form</a></li>
</ul></li>
<li><p>Groups:</p>

<ul>
<li><a href="groups.html">Groups</a></li>
<li><a href="group_add.html">Group Add</a></li>
<li><a href="group_delete.html">Group Delete</a></li>
<li><a href="group_entries.html">Group Entries</a></li>
<li><a href="group_entry_add.html">Group Entry Add</a></li>
<li><a href="group_form.html">Group Form</a></li>
<li><a href="group_members.html">Group Members</a></li>
<li><a href="member_of_group.html">Member Of Group</a></li>
<li><a href="group_wall.html">Group Wall</a></li>
<li><a href="group_wall_comment_delete.html">Group Wall Comment Delete</a></li>
<li><a href="group_wall_form.html">Group Wall Form</a></li>
</ul></li>
<li><p>Messages:</p>

<ul>
<li><a href="messages.html">Messages</a></li>
<li><a href="message_delete.html">Message Delete</a></li>
<li><a href="message_folders.html">Message Folders</a></li>
<li><a href="message_folder_form.html">Message Folder Form</a></li>
<li><a href="message_folder_name.html">Message Folder Name</a></li>
<li><a href="message_form.html">Message Form</a></li>
<li><a href="message_move.html">Message Move</a></li>
</ul></li>
<li><p>Referrals:</p>

<ul>
<li><a href="referral_invite_form.html">Referral Invite Form</a></li>
<li><a href="referral_referral_count.html">Referral Count</a></li>
</ul></li>
<li><h3>Requirements</h3><div class="requirements">

<ul>
<li>EE 2.10.x</li>
<li>PHP 5.2+</li>
<li>MySQL 5+</li>
<li>All modern browsers or IE 10+</li>
</ul></div></li>
</ul>
			</nav>

			<article class="docs">
				<p>The <em>Friends:Hug</em> function allows your users to virtually "hug" their
friends or other members with a click of a button. It's basically the
equivelant to the Facebook "Poke" feature. Just set up a link on a
members profile that links to a template with the Hug function with the
friend's member ID and it will send a notification to that user. And
because there's so much love happening at Solspace, we felt it was most
appropriate to go with "Hug". You can refer to the function with
whatever name you wish though. Hugs can also be viewed in a list for
display in your template with the Hugs are given to friends/members from
users by using the <a href="hugs.html">Friends:Hugs</a> loop.</p>

<p><strong>NOTE</strong>: There's an additional check so that a person cannot hug the
same person more than 3 times in one hour. This can be adjusted manually
in the code.</p>

<pre class="brush: html;">{exp:friends:hug} content {/exp:friends:hug}</pre>

<ul>
<li><a href="#parameters">Parameters</a></li>
<li><a href="#variables">Variables</a></li>
<li><a href="#conditionals">Conditionals</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#extras">Extras</a></li>
</ul>

<p><a name="parameters"></a></p>

<h2>Parameters</h2>

<p>The following parameters are available for use:</p>

<ul>
<li><a href="#dynamic">dynamic</a></li>
<li><a href="#friends_only">friends_only</a></li>
<li><a href="#hug_label">hug_label</a></li>
<li><a href="#notification_template">notification_template</a></li>
<li><a href="#subject">subject</a></li>
<li><a href="#trigger">trigger</a></li>
</ul>

<p><a name="dynamic"></a></p>

<h3>dynamic=</h3>

<pre class="brush: html;">dynamic="off"</pre>

<p>This parameter is available to stop the loop from looking into
the URI for an ID of any type.</p>

<p><a name="friends_only"></a></p>

<h3>friends_only=</h3>

<pre class="brush: html;">friends_only="y"</pre>

<p>By default, the Hug function allows a member to hug any other member.
This parameter allows you to control whether or not you
restrict this to reciprocal friends only.</p>

<p><a name="hug_label"></a></p>

<h3>hug_label=</h3>

<pre class="brush: html;">hug_label="{segment_4}"</pre>

<p>By default, the Hug feature is a simple function that allows you to
simply hug/poke a person that's that. However, if you want it all, we've
included the optional <em>hug_label</em> parameter, which allows you to
specify custom actions to do more than just hugging, such as <strong>Poked</strong>,
<strong>Tickled</strong>, etc. The default value is <strong>hug</strong>. This could be hardcoded, or
something that you pass into the URI. For example, if you build a URI
like this: <strong>http://www.yoursite.com/friends/hug/MEMBER_ID/poked/</strong></p>

<p>The "poked" value is loaded into the <em>hug_label</em> parameter and recorded
into the database, which will be available as a variable in the
<a href="hugs.html">Friends:Hugs</a> loop.</p>

<p><a name="notification_template"></a></p>

<h3>notification_template=</h3>

<pre class="brush: html;">notification_template="friends_notifications/hug"</pre>

<p>This parameter controls which EE template to use
for notifying the friend you have hugged.</p>

<p><a name="subject"></a></p>

<h3>subject=</h3>

<pre class="brush: html;">subject="{friends_hugger_screen_name} has Hugged you!"</pre>

<p>This parameter outputs the subject line for the notification
email when a user hugs a friend.</p>

<p><a name="trigger"></a></p>

<h3>trigger=</h3>

<pre class="brush: html;">trigger="cheese"</pre>

<p>If you'd like to specify a username in the URI when coding a link to the
Hug function template, this parameter allows you to specify
which trigger you're using in the URI to prepend the username segment.
Ex: your link might look like this:
<strong>http://www.yoursite.com/friends/hug/cheese/pie_man/</strong></p>

<p><a name="variables"></a></p>

<h2>Variables</h2>

<p>The following variables are available for use:</p>

<ul>
<li><a href="#friends_hug_label">friends_hug_label</a></li>
<li><a href="#friends_message">friends_message</a></li>
<li><a href="#friends_recipient_member_field">friends_recipient_member_field</a></li>
<li><a href="#friends_sender_member_field">friends_sender_member_field</a></li>
</ul>

<p><a name="friends_hug_label"></a></p>

<h3>friends_hug_label</h3>

<pre class="brush: html;">{friends_hug_label}</pre>

<p>This variable displays the label that was given to the hug and is available for use in the <a href="#notifications">Notification Templates</a>. If the <a href="#hug_label">hug_label</a> parameter was never specified, this variable will contain the default value of <strong>hug</strong>.</p>

<p><a name="friends_message"></a></p>

<h3>friends_message</h3>

<pre class="brush: html;">{friends_message}</pre>

<p>This variable will output the success message or any errors upon loading the <em>Friends:Hug</em> template.</p>

<p><a name="friends_recipient_member_field"></a></p>

<h3>friends_recipient_member_field</h3>

<pre class="brush: html;">{friends_recipient_member_field}</pre>

<p>You can parse any of the standard member fields (including
<strong>screen_name</strong>, <strong>username</strong> and <strong>member_id</strong>) for both the
hugger/sender and the huggee/recipient for use in the <a href="#notifications">Notification
Templates</a> as well as the <a href="#subject">subject</a> parameter. To
parse these member fields for the recipient, prepend the variables with
<em>friends_recipient&#95;</em>. To construct this variable, simply use
<strong>friends_recipient&#95;</strong> + <strong>member_field_name</strong>.</p>

<p><a name="friends_sender_member_field"></a></p>

<h3>friends_sender_member_field</h3>

<pre class="brush: html;">{friends_sender_member_field}</pre>

<p>You can parse any of the standard member fields (including
<strong>screen_name</strong>, <strong>username</strong>, and <strong>member_id</strong>) for both the
hugger/sender and the huggee/recipient for use in the <a href="#notifications">Notification
Templates</a> as well as the <a href="#subject">subject</a> parameter. To
parse these member fields for the sender, prepend the variables with
<em>friends_sender&#95;</em>. To construct this variable, simply use
<strong>friends_sender&#95;</strong> + <strong>member_field_name</strong>.</p>

<p><a name="conditionals"></a></p>

<h2>Conditionals</h2>

<p>The following conditionals are available for use:</p>

<ul>
<li><a href="#failure">failure</a></li>
<li><a href="#success">success</a></li>
</ul>

<p><a name="failure"></a></p>

<h3>failure</h3>

<pre class="brush: html;">{if failure}Error!{/if}</pre>

<p>This conditional shows its contents if the request action
DOES NOT execute successfully.</p>

<p><a name="success"></a></p>

<h3>success</h3>

<pre class="brush: html;">{if success}Successful!{/if}</pre>

<p>This conditional shows its contents if the request action
executes successfully.</p>

<p><a name="examples"></a></p>

<h2>Examples</h2>

<p>The following code should be a complete example for using this function
regularly:</p>

<pre class="brush: html;">{exp:friends:hug
    notification_template="friends_notifications/hug"
    subject="{friends_sender_screen_name} has Hugged you!"
}

    {if success}
        &lt;h3&gt;Successful!&lt;/h3&gt;
    {/if}
    {if failure}
        &lt;h3&gt;Error!&lt;/h3&gt;
    {/if}

    &lt;p&gt;{friends_message}&lt;/p&gt;

{/exp:friends:hug}
</pre>

<p>If this template was located at <strong>friends/hug</strong>, you would link to this
page from another template like one of these options:</p>

<ul>
<li><strong>http://www.yoursite.com/friends/hug/MEMBER_ID/</strong></li>
<li><strong>http://www.yoursite.com/friends/hug/trigger/USERNAME/</strong></li>
</ul>

<p>The following code is an example of how to use this function with the
custom <a href="#hug_label">hug_label</a> feature:</p>

<pre class="brush: html;">{exp:friends:hug
    notification_template="friends_notifications/hug"
    subject="{friends_sender_screen_name} has {segment_4} you!"
    hug_label="Poked"
}

    {if success}
        &lt;h3&gt;Successful!&lt;/h3&gt;
    {/if}
    {if failure}
        &lt;h3&gt;Error!&lt;/h3&gt;
    {/if}

    &lt;p&gt;{friends_message}&lt;/p&gt;

{/exp:friends:hug}
</pre>

<p>If this template was located at <strong>friends/hug</strong>, you would link to this
page from another template like one of these options:</p>

<ul>
<li><strong>http://www.yoursite.com/friends/hug/MEMBER_ID/poked/</strong></li>
<li><strong>http://www.yoursite.com/friends/hug/trigger/USERNAME/poked/</strong></li>
</ul>

<p><a name="notification_templates"></a></p>

<h2>Notification Templates</h2>

<p>For your notification templates, you use regular EE templates, and just
add code like this:</p>

<p><a name="hug_notification"></a></p>

<h3>Hug Notification ("friends_notifications/hug")</h3>

<pre class="brush: html;">Hello {friends_recipient_screen_name}!

You have just received a Hug from {friends_sender_screen_name}.

Click the link below to Hug them back!
{path='friends/hug'}/{friends_sender_member_id}/
</pre>

<p><a name="custom_hug_notification"></a></p>

<h3>Custom Hug Notification ("friends_notifications/custom_hug")</h3>

<pre class="brush: html;">Hello {friends_recipient_screen_name}!

You have just been {friends_hug_label} by {friends_sender_screen_name}.

Click the link below to view their profile:
{path='friends/profile'}/{friends_sender_member_id}/
</pre>
			</article>
		</div>

		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/fancybox/jquery.fancybox-1.3.4.pack.js"></script>
		<script src="assets/syntaxhighlighter/scripts/shCore.js"></script>
		<script src="assets/syntaxhighlighter/scripts/shAutoloader.js"></script>
		<script src="assets/js/main.js"></script>
	</body>
</html>