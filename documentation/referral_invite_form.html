<!DOCTYPE html>
<!--[if lt IE 7]>		<html class="no-js ie6"> <![endif]-->
<!--[if IE 7]>			<html class="no-js ie7"> <![endif]-->
<!--[if IE 8]>			<html class="no-js ie8"> <![endif]-->
<!--[if IE 8]>			<html class="no-js ie9"> <![endif]-->
<!--[if gt IE 9]><!-->	<html class="no-js"> <!--<![endif]-->
	<head lang="en">
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<title>Referral Invite Form | Friends | Solspace Addon Documentation</title>
		<meta name="description" content="" />
		<meta name="copyright" content="(c) 2010 Copyright content: Copyright design: Solspace, Inc."/>
		<meta name="viewport" content="width=device-width" />
		<link rel="stylesheet" href="assets/css/normalize.css" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<link rel="stylesheet" type="text/css" href="assets/fancybox/jquery.fancybox-1.3.4.css" />
		<link href="assets/syntaxhighlighter/styles/shCore.css" rel="stylesheet" type="text/css" />
		<link href="assets/syntaxhighlighter/styles/shThemeDefault.css" rel="stylesheet" type="text/css" />
		<script src="assets/js/modernizr.min.js"></script>
	</head>
	<body>
		<!--[if lt IE 8]>
			<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
		<![endif]-->

		<header>
			<div class="header-inner">
				<div class="logo">
					<img src="assets/images/logo.png" />
				</div>

				<div class="bread_crumbs">
					<ul class="crumbs">
						<li class="first"><a href="index.html">Friends</a></li>
						<li>Referral Invite Form</li>
					</ul>
				</div>
			</div>
		</header>

		<div class="content-wrapper">
			<nav class="toc">
				<ul>
<li><a href="https://solspace.com/expressionengine/friends">More Info | Purchase</a></li>
<li><a href="change_log.html">Change Log</a></li>
<li><a href="install_update.html">Install / Update</a></li>
<li><a href="control_panel.html">Control Panel</a></li>
<li><a href="extension_hooks.html">Extension Hooks</a></li>
<li class="template_tags"><h3>Template Tags</h3></li>
<li><p>Basic:</p>

<ul>
<li><a href="add.html">Add</a></li>
<li><a href="form.html">Form</a></li>
<li><a href="hug.html">Hug</a></li>
<li><a href="hugs.html">Hugs</a></li>
<li><a href="invites.html">Invites</a></li>
<li><a href="members.html">Members</a></li>
<li><a href="mine.html">Mine</a></li>
<li><a href="mutual_friends.html">Mutual Friends</a></li>
</ul></li>
<li><p>Profile Wall:</p>

<ul>
<li><a href="profile_wall.html">Profile Wall</a></li>
<li><a href="profile_wall_comment_delete.html">Profile Wall Comment Delete</a></li>
<li><a href="profile_wall_form.html">Profile Wall Form</a></li>
</ul></li>
<li><p>Status Updates:</p>

<ul>
<li><a href="status.html">Status</a></li>
<li><a href="status_delete.html">Status Delete</a></li>
<li><a href="status_form.html">Status Form</a></li>
</ul></li>
<li><p>Groups:</p>

<ul>
<li><a href="groups.html">Groups</a></li>
<li><a href="group_add.html">Group Add</a></li>
<li><a href="group_delete.html">Group Delete</a></li>
<li><a href="group_entries.html">Group Entries</a></li>
<li><a href="group_entry_add.html">Group Entry Add</a></li>
<li><a href="group_form.html">Group Form</a></li>
<li><a href="group_members.html">Group Members</a></li>
<li><a href="member_of_group.html">Member Of Group</a></li>
<li><a href="group_wall.html">Group Wall</a></li>
<li><a href="group_wall_comment_delete.html">Group Wall Comment Delete</a></li>
<li><a href="group_wall_form.html">Group Wall Form</a></li>
</ul></li>
<li><p>Messages:</p>

<ul>
<li><a href="messages.html">Messages</a></li>
<li><a href="message_delete.html">Message Delete</a></li>
<li><a href="message_folders.html">Message Folders</a></li>
<li><a href="message_folder_form.html">Message Folder Form</a></li>
<li><a href="message_folder_name.html">Message Folder Name</a></li>
<li><a href="message_form.html">Message Form</a></li>
<li><a href="message_move.html">Message Move</a></li>
</ul></li>
<li><p>Referrals:</p>

<ul>
<li class="current"><a href="referral_invite_form.html">Referral Invite Form</a></li>
<li><a href="referral_referral_count.html">Referral Count</a></li>
</ul></li>
<li><h3>Requirements</h3><div class="requirements">

<ul>
<li>EE 2.10.x</li>
<li>PHP 5.2+</li>
<li>MySQL 5+</li>
<li>All modern browsers or IE 10+</li>
</ul></div></li>
</ul>
			</nav>

			<article class="docs">
				<p>The <em>Friends:Invite_Form</em> function is a referral system that allows
your users to invite other people to the site. All invites are recorded
in the database and if the invited person registers on the website, a
rereferral credit will be given to the inviter. Consequently, the
<a href="referral_referral_count.html">Friends:Referral_Count</a>
tag is available to output referral stats for any given member.</p>

<p>Additionally, a user can also invite the person(s) to one of the groups
they own in the same submission. In the event an email address of an
already existing site member is invited, the usual friend request
proceedure will take place instead of sending an invitation request.</p>

<p>Upon registration from a person with the invited email address, the
inviter receives a credit for the successful referral.</p>

<pre class="brush: html;">{exp:friends:invite_form} content {/exp:friends:invite_form}</pre>

<ul>
<li><a href="#parameters">Parameters</a></li>
<li><a href="#variable_pairs">Variable Pairs</a></li>
<li><a href="#form_fields">Form Fields</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#notifications">Notification Templates</a></li>
</ul>

<p><a name="parameters"></a></p>

<h2>Parameters</h2>

<p>The following parameters are available for use:</p>

<ul>
<li><a href="#return">return</a></li>
<li><a href="#notification_invite">notification_invite</a></li>
<li><a href="#notification_request">notification_request</a></li>
<li><a href="#notification_confirm">notification_confirm</a></li>
<li><a href="#notification_group_invite">notification_group_invite</a></li>
<li><a href="#subject_invite">subject_invite</a></li>
<li><a href="#subject_request">subject_request</a></li>
<li><a href="#subject_confirm">subject_confirm</a></li>
<li><a href="#subject_confirm">subject_confirm</a></li>
</ul>

<p><a name="return"></a></p>

<h3>return=</h3>

<pre class="brush: html;">return="template_group/template"</pre>

<p>This parameter allows you to return the user to a specified
template upon successful submittal of form.</p>

<p><a name="notification_invite"></a></p>

<h3>notification_invite=</h3>

<pre class="brush: html;">notification_invite="friends_notifications/site_invite"</pre>

<p>This parameter controls which EE template to use
for your website invite notification template.</p>

<p><a name="notification_request"></a></p>

<h3>notification_request=</h3>

<pre class="brush: html;">notification_request="friends_notifications/friend_request"</pre>

<p>This parameter controls which EE template to use
for your friend request notification template. Available in the event
the invited email address belongs to an already registered site member.</p>

<p><a name="notification_confirm"></a></p>

<h3>notification_confirm=</h3>

<pre class="brush: html;">notification_confirm="friends_notifications/friend_confirm"</pre>

<p>This parameter controls which EE template to use
for your friend confirm notification template. Available in the event
the invited email address belongs to an already registered site member.</p>

<p><a name="notification_group_invite"></a></p>

<h3>notification_group_invite=</h3>

<pre class="brush: html;">notification_group_invite="friends_notifications/group_invite"</pre>

<p>This parameter controls which EE template
to use to format a notification to the user who is being invited to join
a group. Available in the event the invited email address belongs to an
already registered site member.</p>

<p><a name="subject_invite"></a></p>

<h3>subject_invite=</h3>

<pre class="brush: html;">subject_invite="{friends_inviter_screen_name} would like you to join the {site_name} site!"</pre>

<p>This parameter outputs the subject line for the
notification email sent out to recipients of the website invitation.</p>

<p><a name="subject_request"></a></p>

<h3>subject_request=</h3>

<pre class="brush: html;">subject_request="{friends_inviter_screen_name} has added you as a Friend!"</pre>

<p>This parameter outputs the subject line for the
notification email when a user is initiating a friend request. Available
in the event the invited email address belongs to an already registered
site member.</p>

<p><a name="subject_confirm"></a></p>

<h3>subject_confirm=</h3>

<pre class="brush: html;">subject_confirm="{friends_inviter_screen_name} has confirmed you as a Friend!"</pre>

<p>This parameter outputs the subject line for the
notification email when a user is confirming a friend request. Available
in the event the invited email address belongs to an already registered
site member.</p>

<p><a name="subject_group_invite"></a></p>

<h3>subject_group_invite=</h3>

<pre class="brush: html;">subject_group_invite="{friends_owner_screen_name} would like you to join the {friends_group_title} group"</pre>

<p>This parameter outputs the subject line for the
notification email to the user who is being invited to join a group.
Available in the event the invited email address belongs to an already
registered site member.</p>

<p><a name="variable_pairs"></a></p>

<h2>Variable Pairs</h2>

<p>The following variable pairs are available for use:</p>

<ul>
<li><a href="#groups">groups</a></li>
</ul>

<p><a name="groups"></a></p>

<h3>groups</h3>

<pre class="brush: html;">{groups} {/groups}</pre>

<p>This variable pair allows you to display a list of all groups
the currently logged in user owns, convenient for created a select menu
for including a group invite along with the site invites. Within it, the
following variables are available:</p>

<ul>
<li><em>{friends_group_description}</em> - displays the description of the group</li>
<li><em>{friends_group_id}</em> - displays the ID of the group.</li>
<li><em>{friends_group_name}</em> - displays the name (AKA short name) of the group.</li>
<li><em>{friends_group_title}</em> - displays the title of the group.</li>
</ul>

<p><a name="form_fields"></a></p>

<h2>Form Fields</h2>

<p>The following form fields are available for use:</p>

<ul>
<li><a href="#friends_emails">friends_emails</a></li>
<li><a href="#friends_group_id">friends_group_id</a></li>
</ul>

<p><a name="friends_emails"></a></p>

<h3>friends_emails</h3>

<pre class="brush: html;">&lt;textarea name="friends_emails"&gt;&lt;/textarea&gt;</pre>

<p>This form field is where the user will enter a list of
emails they'd like to invite to your site. Multiple values can be
separated by commas or line breaks.</p>

<p><a name="friends_group_id"></a></p>

<h3>friends_group_id</h3>

<pre class="brush: html;">&lt;select name="friends_group_id"&gt;
    &lt;option&gt;Select Group&lt;/option&gt;
    {groups}
        &lt;option value="{friends_group_id}"&gt;{friends_group_title}&lt;/option&gt;
    {/groups}
&lt;/select&gt;
</pre>

<p>This form field allows the user to attach a group
invite along with the site invitation. Only 1 group invite can be
specified, and can only groups the user has created can be sent.</p>

<p><a name="examples"></a></p>

<h2>Examples</h2>

<p>The following code should be a complete example for using this function
regularly:</p>

<pre class="brush: html;">&lt;h3&gt;Invite your friends to this site!&lt;/h3&gt;
&lt;p&gt;Enter the email addresses of your friends in the field below separated by commas or line breaks.&lt;/p&gt;

{exp:friends:invite_form
    return="friends/invite/success"
    notification_invite="friends_notifications/site_invite"
    subject_invite="{friends_inviter_screen_name} would like you to join the {site_name} site!"
    notification_request="friends_notifications/friend_request"
    notification_confirm="friends_notifications/friend_confirm"
    subject_request="{friends_inviter_screen_name} has added you as a Friend!"
    subject_confirm="{friends_inviter_screen_name} has confirmed you as a Friend!"
    notification_group_invite="friends_notifications/group_invite"
    subject_group_invite="{friends_owner_screen_name} would like you to join their group!"
}

    &lt;p&gt;
        Emails:
        &lt;textarea name="friends_emails"&gt;&lt;/textarea&gt;
    &lt;/p&gt;
    &lt;p&gt;
        Group:
        &lt;select name="friends_group_id"&gt;
            &lt;option&gt;Select Group&lt;/option&gt;
            {groups}
                &lt;option value="{friends_group_id}"&gt;{friends_group_title}&lt;/option&gt;
            {/groups}
        &lt;/select&gt;
    &lt;/p&gt;
    &lt;p&gt;
        &lt;input type="submit" name="submit" value="Invite Friends!" /&gt;
    &lt;/p&gt;

{/exp:friends:invite_form}
</pre>

<p><a name="notifications"></a></p>

<h2>Notification Templates</h2>

<p>For your notification templates, you use regular EE templates, and just
add code like this:</p>

<p><a name="site_invitation_notification"></a></p>

<h3>Site Invitation Notification ("friends_notifications/site_invite")</h3>

<pre class="brush: html;">Hello,

You have just received an invitation from
{friends_inviter_screen_name} to join the "{site_name}" website.

Click the link below to accept this invitation and create an account:
{path='member/register'}

To view {friends_inviter_screen_name}'s profile, click here:
{path='members/profile'}/{friends_inviter_member_id}/
</pre>

<p><a name="all_other_notifications"></a></p>

<h3>All Other Notifications</h3>

<p>To view examples of all other available notification email templates,
see <a href="add.html#notifications">Friends:Add</a> and <a href="group_add.html#notifications">Friends:Group_Add</a> documentation.</p>
			</article>
		</div>

		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/fancybox/jquery.fancybox-1.3.4.pack.js"></script>
		<script src="assets/syntaxhighlighter/scripts/shCore.js"></script>
		<script src="assets/syntaxhighlighter/scripts/shAutoloader.js"></script>
		<script src="assets/js/main.js"></script>
	</body>
</html>